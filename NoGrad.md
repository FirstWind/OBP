Нужна **настраиваемая политика**. По умолчанию я бы сделал **NO_GRADE**, но фиксировать это как “всегда” — риск: в разных частях/подразделениях часто требуют разные управленческие трактовки (учёт в отчётности, закрытие периода, KPI, дисциплинарка и т.п.). Поэтому лучше: **статус = факт**, а **итог = функция статуса + политики**.

## Рекомендация по умолчанию (Default)

* `no_show_valid` → **NO_GRADE**
* `medical_exempt` → **NO_GRADE**
* `lfk` → **NO_GRADE**

## Нужная политика (чтобы не спорить “в коде”)

Ввести `ExcusedStatusPolicy` (или три отдельных флага, но лучше единообразно):

```text
ExcusedStatusPolicy:
  no_grade     — итог не выставляется (NO_GRADE)
  reschedule   — NO_GRADE + пометка "подлежит пересдаче до <даты>" (дата опциональна)
  fail         — считать как неуд (FAIL)  [не рекомендовано по умолчанию]
```

И применять её **по каждому из статусов отдельно**, потому что медотвод и ЛФК часто трактуются иначе, чем уважительная неявка:

```json
{
  "ExcusedStatusPolicy": {
    "no_show_valid": "no_grade",
    "medical_exempt": "no_grade",
    "lfk": "no_grade"
  }
}
```

## Как это влияет на расчёт (строгое правило)

В домене:

1. Если `status in [refuse, no_show_invalid]` → **FAIL** (жёстко, без политик).
2. Если `status in [no_show_valid, medical_exempt, lfk]` → применить `ExcusedStatusPolicy[status]`:

   * `no_grade` → `final_status=NO_GRADE`, `final_grade=null`
   * `reschedule` → `final_status=NO_GRADE`, `final_grade=null`, `reason_code=RESCHEDULE_REQUIRED`
   * `fail` → `final_status=FAIL`, `final_grade=unsatisfactory`, `reason_code=EXCUSED_TREATED_AS_FAIL`
3. Только при `completed` считаем баллы/пороги.

## Что фиксировать в сессии (для воспроизводимости)

В `policies_snapshot_json` сессии сохранять выбранную политику, как и остальные.

## Почему так лучше

* Не ломает “нормативную” логику: статус ≠ результат.
* Удобно для командования/учёта: можно настроить отчётность без переписывания кода.
* Снимает вечный спор “как правильно” — правильно так, как задано в политике и зафиксировано в сессии.
